<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Les P√©riodes Historiques</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #4a5568;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #718096;
            font-size: 1.2em;
        }
        
        .level-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .level-btn {
            background: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            min-width: 150px;
        }
        
        .level-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .level-btn.facile {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            color: #2d3748;
        }
        
        .level-btn.moyen {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #2d3748;
        }
        
        .level-btn.difficile {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #2d3748;
        }
        
        .level-btn.plus-loin {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
        }
        
        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            display: none;
        }
        
        .quiz-container.active {
            display: block;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4299e1, #667eea);
            transition: width 0.3s ease;
            border-radius: 5px;
        }
        
        .question-counter {
            text-align: center;
            color: #718096;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        
        .question {
            font-size: 1.3em;
            color: #2d3748;
            margin-bottom: 25px;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .answers {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .answer-btn {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            text-align: left;
            transition: all 0.3s ease;
        }
        
        .answer-btn:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
            transform: translateX(5px);
        }
        
        .answer-btn.selected {
            background: #ebf8ff;
            border-color: #4299e1;
            color: #2b6cb0;
        }
        
        .answer-btn.correct {
            background: #f0fff4;
            border-color: #48bb78;
            color: #2f855a;
        }
        
        .answer-btn.incorrect {
            background: #fed7d7;
            border-color: #e53e3e;
            color: #c53030;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .results-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }
        
        .results-container.active {
            display: block;
        }
        
        .score-display {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        
        .results-details {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .result-item {
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid;
        }
        
        .result-item.correct {
            background: #f0fff4;
            border-color: #48bb78;
        }
        
        .result-item.incorrect {
            background: #fed7d7;
            border-color: #e53e3e;
        }
        
        .result-question {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .result-answer {
            color: #666;
        }
        
        .back-btn {
            background: #718096;
            margin-top: 20px;
        }
        
        .feedback {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }
        
        .feedback.correct {
            background: #f0fff4;
            color: #2f855a;
            border: 2px solid #48bb78;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #e53e3e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Quiz - Les P√©riodes Historiques</h1>
            <p>Testez vos connaissances sur les grandes p√©riodes de l'histoire</p>
        </div>
        
        <div class="level-selector" id="levelSelector">
            <button class="level-btn facile" onclick="startQuiz('facile')">
                üåü Niveau Facile<br>
                <small>Questions de base</small>
            </button>
            <button class="level-btn moyen" onclick="startQuiz('moyen')">
                üî• Niveau Moyen<br>
                <small>Questions interm√©diaires</small>
            </button>
            <button class="level-btn difficile" onclick="startQuiz('difficile')">
                üíé Niveau Difficile<br>
                <small>Questions avanc√©es</small>
            </button>
            <button class="level-btn plus-loin" onclick="startQuiz('plus-loin')">
                üöÄ Plus Loin<br>
                <small>Programme 3√®me</small>
            </button>
        </div>
        
        <div class="quiz-container" id="quizContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="question-counter" id="questionCounter"></div>
            <div class="question" id="questionText"></div>
            <div class="answers" id="answersContainer"></div>
            <div class="feedback" id="feedback" style="display: none;"></div>
            <div class="controls">
                <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>Question Suivante</button>
                <button class="btn back-btn" onclick="backToMenu()">Retour au Menu</button>
            </div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <h2 style="text-align: center; margin-bottom: 30px; color: #4a5568;">üèÜ R√©sultats du Quiz</h2>
            <div class="score-display">
                <div class="score-circle" id="scoreCircle"></div>
                <h3 id="scoreText"></h3>
            </div>
            <div class="results-details" id="resultsDetails"></div>
            <div style="text-align: center;">
                <button class="btn" onclick="backToMenu()">Retour au Menu</button>
                <button class="btn" onclick="restartQuiz()" style="background: #48bb78;">Recommencer</button>
            </div>
        </div>
    </div>
    
    <script>
        const questions = {
            facile: [
                {q: "Quelle p√©riode correspond √† l'√©poque de Charlemagne ?", a: ["Moyen √Çge", "Antiquit√©", "Renaissance", "√âpoque moderne"], correct: 0},
                {q: "En quelle ann√©e a eu lieu la prise de la Bastille ?", a: ["1789", "1792", "1804", "1815"], correct: 0},
                {q: "Qui √©tait Louis XIV ?", a: ["Le Roi-Soleil", "L'Empereur des Fran√ßais", "Un r√©volutionnaire", "Un pape"], correct: 0},
                {q: "Quelle p√©riode suit directement le Moyen √Çge ?", a: ["La Renaissance", "L'Antiquit√©", "L'√©poque contemporaine", "La Pr√©histoire"], correct: 0},
                {q: "En quelle ann√©e Christophe Colomb d√©couvre-t-il l'Am√©rique ?", a: ["1492", "1515", "1453", "1498"], correct: 0},
                {q: "Combien de temps a dur√© la guerre de Cent Ans ?", a: ["116 ans", "100 ans", "150 ans", "200 ans"], correct: 0},
                {q: "Quelle invention r√©volutionne la Renaissance ?", a: ["L'imprimerie", "La machine √† vapeur", "L'√©lectricit√©", "L'automobile"], correct: 0},
                {q: "Qui √©tait Napol√©on Bonaparte ?", a: ["Empereur des Fran√ßais", "Roi de France", "Pr√©sident", "G√©n√©ral romain"], correct: 0},
                {q: "Quelle p√©riode pr√©c√®de le Moyen √Çge ?", a: ["L'Antiquit√©", "La Renaissance", "L'√©poque moderne", "La Pr√©histoire"], correct: 0},
                {q: "En quelle ann√©e commence la Premi√®re Guerre mondiale ?", a: ["1914", "1916", "1912", "1918"], correct: 0},
                {q: "Qui √©taient les Gaulois ?", a: ["Les habitants de la Gaule avant les Romains", "Des soldats romains", "Des rois fran√ßais", "Des r√©volutionnaires"], correct: 0},
                {q: "Quelle r√©volution marque le d√©but de l'√©poque contemporaine ?", a: ["La R√©volution fran√ßaise", "La R√©volution industrielle", "La R√©volution russe", "La Renaissance"], correct: 0},
                {q: "En quelle ann√©e se termine la Seconde Guerre mondiale ?", a: ["1945", "1944", "1946", "1943"], correct: 0},
                {q: "Qui √©tait Jules C√©sar ?", a: ["Un g√©n√©ral et homme politique romain", "Un roi de France", "Un empereur fran√ßais", "Un philosophe grec"], correct: 0},
                {q: "Quelle p√©riode correspond aux ch√¢teaux forts ?", a: ["Le Moyen √Çge", "La Renaissance", "L'Antiquit√©", "L'√©poque moderne"], correct: 0},
                {q: "En quelle ann√©e a √©t√© abolie l'esclavage en France ?", a: ["1848", "1789", "1794", "1802"], correct: 0},
                {q: "Qui √©tait Jeanne d'Arc ?", a: ["Une h√©ro√Øne fran√ßaise du Moyen √Çge", "Une reine de France", "Une r√©volutionnaire", "Une imp√©ratrice"], correct: 0},
                {q: "Quelle p√©riode correspond aux pyramides d'√âgypte ?", a: ["L'Antiquit√©", "Le Moyen √Çge", "La Pr√©histoire", "La Renaissance"], correct: 0},
                {q: "En quelle ann√©e a √©t√© construite la Tour Eiffel ?", a: ["1889", "1899", "1879", "1869"], correct: 0},
                {q: "Qui √©tait Vercing√©torix ?", a: ["Un chef gaulois", "Un empereur romain", "Un roi fran√ßais", "Un g√©n√©ral napol√©onien"], correct: 0}
            ],
            
            moyen: [
                {q: "Quelle bataille marque la fin de l'Empire de Napol√©on ?", a: ["Waterloo", "Austerlitz", "I√©na", "Wagram"], correct: 0},
                {q: "En quelle ann√©e a lieu le couronnement de Charlemagne ?", a: ["800", "768", "814", "843"], correct: 0},
                {q: "Quel trait√© met fin √† la guerre de Cent Ans ?", a: ["Trait√© de Picquigny", "Trait√© de Troyes", "Trait√© de Br√©tigny", "Trait√© de Calais"], correct: 0},
                {q: "Qui √©tait Fran√ßois Ier ?", a: ["Roi de France pendant la Renaissance", "Empereur du Saint-Empire", "Pape de la Renaissance", "D√©couvreur fran√ßais"], correct: 0},
                {q: "Quelle r√©forme religieuse marque le XVIe si√®cle ?", a: ["La R√©forme protestante", "Le Grand Schisme", "Les Croisades", "La Contre-R√©forme"], correct: 0},
                {q: "En quelle ann√©e a lieu la Saint-Barth√©lemy ?", a: ["1572", "1562", "1598", "1685"], correct: 0},
                {q: "Qui √©tait Richelieu ?", a: ["Cardinal et ministre de Louis XIII", "Roi de France", "G√©n√©ral de Napol√©on", "R√©volutionnaire"], correct: 0},
                {q: "Quelle guerre oppose la France et l'Angleterre de 1337 √† 1453 ?", a: ["La guerre de Cent Ans", "La guerre de Sept Ans", "La guerre de Succession d'Espagne", "Les guerres de Religion"], correct: 0},
                {q: "En quelle ann√©e a lieu la bataille de Poitiers de Charles Martel ?", a: ["732", "800", "987", "1066"], correct: 0},
                {q: "Qui √©tait Robespierre ?", a: ["Leader de la Terreur r√©volutionnaire", "G√©n√©ral de Napol√©on", "Roi de France", "Ministre de Louis XVI"], correct: 0},
                {q: "Quelle invention de Gutenberg r√©volutionne le XVe si√®cle ?", a: ["L'imprimerie √† caract√®res mobiles", "La boussole", "La poudre √† canon", "Le t√©lescope"], correct: 0},
                {q: "En quelle ann√©e a lieu la bataille de Marignan ?", a: ["1515", "1494", "1525", "1559"], correct: 0},
                {q: "Qui √©tait Mazarin ?", a: ["Cardinal et ministre de Louis XIV", "Roi de France", "G√©n√©ral romain", "Philosophe des Lumi√®res"], correct: 0},
                {q: "Quelle r√©volution industrielle commence au XVIIIe si√®cle ?", a: ["La premi√®re r√©volution industrielle", "La r√©volution agricole", "La r√©volution d√©mographique", "La r√©volution scientifique"], correct: 0},
                {q: "En quelle ann√©e a lieu l'√©dit de Nantes ?", a: ["1598", "1572", "1629", "1685"], correct: 0},
                {q: "Qui √©tait Clovis ?", a: ["Premier roi des Francs converti au christianisme", "Empereur romain", "Roi des Wisigoths", "Chef gaulois"], correct: 0},
                {q: "Quelle bataille oppose Fran√ßais et Anglais en 1415 ?", a: ["Azincourt", "Cr√©cy", "Poitiers", "Castillon"], correct: 0},
                {q: "En quelle ann√©e Charles VII est-il sacr√© √† Reims ?", a: ["1429", "1420", "1431", "1435"], correct: 0},
                {q: "Qui √©tait Colbert ?", a: ["Ministre des Finances de Louis XIV", "G√©n√©ral de Louis XIV", "Architecte de Versailles", "Philosophe du Grand Si√®cle"], correct: 0},
                {q: "Quelle p√©riode correspond au r√®gne de Louis XIV ?", a: ["1643-1715", "1610-1643", "1715-1774", "1774-1792"], correct: 0}
            ],
            
            difficile: [
                {q: "Quel trait√© partage l'empire de Charlemagne en 843 ?", a: ["Trait√© de Verdun", "Trait√© de Ribemont", "Trait√© de Meerssen", "Trait√© de Pr√ºm"], correct: 0},
                {q: "Quelle bataille en 1356 voit la capture du roi Jean le Bon ?", a: ["Poitiers", "Cr√©cy", "Azincourt", "Castillon"], correct: 0},
                {q: "En quelle ann√©e a lieu la Jacquerie ?", a: ["1358", "1356", "1360", "1364"], correct: 0},
                {q: "Qui √©tait √âtienne Marcel ?", a: ["Pr√©v√¥t des marchands de Paris", "Roi de France", "Chef de la Jacquerie", "Conn√©table de France"], correct: 0},
                {q: "Quelle ordonnance de 1357 limite le pouvoir royal ?", a: ["Ordonnance cabochienne", "Grande Ordonnance", "Ordonnance de Villers-Cotter√™ts", "Ordonnance de Moulins"], correct: 1},
                {q: "En quelle ann√©e a lieu la bataille de Bouvines ?", a: ["1214", "1204", "1224", "1244"], correct: 0},
                {q: "Qui √©tait Du Guesclin ?", a: ["Conn√©table de France sous Charles V", "Roi de France", "Chroniqueur m√©di√©val", "Architecte gothique"], correct: 0},
                {q: "Quelle r√©volte paysanne a lieu en Angleterre en 1381 ?", a: ["R√©volte de Wat Tyler", "Jacquerie", "Guerre des Paysans", "R√©volte des Ciompi"], correct: 0},
                {q: "En quelle ann√©e Philippe Auguste bat-il l'empereur Othon IV ?", a: ["1214", "1204", "1208", "1216"], correct: 0},
                {q: "Qui √©tait Suger ?", a: ["Abb√© de Saint-Denis et conseiller royal", "Roi de France", "Chroniqueur", "Architecte"], correct: 0},
                {q: "Quelle bataille en 1302 oppose Flamands et Fran√ßais ?", a: ["Courtrai", "Mons-en-P√©v√®le", "Cassel", "Roosebeke"], correct: 0},
                {q: "En quelle ann√©e a lieu le Grand Schisme d'Occident ?", a: ["1378", "1309", "1417", "1394"], correct: 0},
                {q: "Qui √©tait Philippe le Bel ?", a: ["Roi de France qui s'oppose au pape", "Empereur germanique", "Pape d'Avignon", "Conn√©table de France"], correct: 0},
                {q: "Quelle ordonnance de 1539 impose le fran√ßais dans l'administration ?", a: ["Ordonnance de Villers-Cotter√™ts", "Ordonnance de Moulins", "Ordonnance de Blois", "Ordonnance d'Orl√©ans"], correct: 0},
                {q: "En quelle ann√©e a lieu l'attentat de Damiens contre Louis XV ?", a: ["1757", "1750", "1764", "1774"], correct: 0},
                {q: "Qui √©tait Fouquet ?", a: ["Surintendant des Finances de Louis XIV", "Ministre de Mazarin", "Architecte de Versailles", "G√©n√©ral de Louis XIV"], correct: 0},
                {q: "Quelle guerre oppose Louis XIV √† une coalition europ√©enne de 1688 √† 1697 ?", a: ["Guerre de la Ligue d'Augsbourg", "Guerre de Succession d'Espagne", "Guerre de Hollande", "Guerre de D√©volution"], correct: 0},
                {q: "En quelle ann√©e a lieu la Fronde parlementaire ?", a: ["1648", "1643", "1652", "1661"], correct: 0},
                {q: "Qui √©tait Turenne ?", a: ["Mar√©chal de France sous Louis XIV", "Ministre de Mazarin", "Architecte militaire", "Diplomate fran√ßais"], correct: 0},
                {q: "Quelle bataille en 1709 oppose Louis XIV √† Marlborough ?", a: ["Malplaquet", "Ramillies", "Oudenarde", "Blenheim"], correct: 0}
            ],
            
            "plus-loin": [
                {q: "Quelle r√©volution industrielle transforme l'Europe au XIXe si√®cle ?", a: ["La deuxi√®me r√©volution industrielle", "La r√©volution des transports", "La r√©volution √©lectrique", "La r√©volution chimique"], correct: 0},
                {q: "En quelle ann√©e a lieu l'unification allemande ?", a: ["1871", "1866", "1848", "1870"], correct: 0},
                {q: "Qui √©tait Bismarck ?", a: ["Chancelier de l'Empire allemand", "Empereur d'Allemagne", "G√©n√©ral prussien", "Philosophe allemand"], correct: 0},
                {q: "Quelle guerre oppose la France et la Prusse en 1870 ?", a: ["Guerre franco-prussienne", "Guerre des Duch√©s", "Guerre austro-prussienne", "Guerre de Crim√©e"], correct: 0},
                {q: "En quelle ann√©e a lieu la Commune de Paris ?", a: ["1871", "1870", "1848", "1830"], correct: 0},
                {q: "Qui √©tait Napol√©on III ?", a: ["Empereur des Fran√ßais", "Pr√©sident de la R√©publique", "Roi des Fran√ßais", "R√©gent de France"], correct: 0},
                {q: "Quelle r√©volution a lieu en Russie en 1917 ?", a: ["R√©volution bolchevique", "R√©volution de F√©vrier", "R√©volution de 1905", "R√©volution d√©cembriste"], correct: 0},
                {q: "En quelle ann√©e l'Italie est-elle unifi√©e ?", a: ["1870", "1861", "1848", "1871"], correct: 0},
                {q: "Qui √©tait Garibaldi ?", a: ["H√©ros de l'unification italienne", "Roi d'Italie", "Pape", "G√©n√©ral autrichien"], correct: 0},
                {q: "Quelle alliance oppose l'Europe en 1914 ?", a: ["Triple Alliance vs Triple Entente", "Sainte Alliance vs Coalition", "Axe vs Alli√©s", "OTAN vs Pacte de Varsovie"], correct: 0},
                {q: "En quelle ann√©e a lieu l'attentat de Sarajevo ?", a: ["1914", "1913", "1915", "1912"], correct: 0},
                {q: "Qui √©tait Guillaume II ?", a: ["Kaiser d'Allemagne", "Empereur d'Autriche", "Tsar de Russie", "Roi de Prusse"], correct: 0},
                {q: "Quelle bataille en 1916 symbolise l'horreur de la Grande Guerre ?", a: ["Verdun", "Somme", "Marne", "Tannenberg"], correct: 0},
                {q: "En quelle ann√©e les √âtats-Unis entrent-ils en guerre en 1917 ?", a: ["1917", "1916", "1918", "1915"], correct: 0},
                {q: "Qui √©tait Clemenceau ?", a: ["Pr√©sident du Conseil fran√ßais", "G√©n√©ral fran√ßais", "Mar√©chal de France", "Diplomate"], correct: 0},
                {q: "Quelle r√©volution renverse le tsar en f√©vrier 1917 ?", a: ["R√©volution de F√©vrier", "R√©volution d'Octobre", "R√©volution de 1905", "R√©volution d√©cembriste"], correct: 0},
                {q: "En quelle ann√©e a lieu l'armistice de la Grande Guerre ?", a: ["1918", "1917", "1919", "1920"], correct: 0},
                {q: "Qui √©tait L√©nine ?", a: ["Leader de la r√©volution bolchevique", "Tsar de Russie", "G√©n√©ral russe", "Ministre du tsar"], correct: 0},
                {q: "Quelle conf√©rence en 1919 redessine l'Europe ?", a: ["Conf√©rence de Paris", "Congr√®s de Vienne", "Conf√©rence de Berlin", "Congr√®s de V√©rone"], correct: 0},
                {q: "En quelle ann√©e l'empire ottoman dispara√Æt-il ?", a: ["1922", "1918", "1920", "1923"], correct: 0}
            ]
        };
        
        let currentLevel = '';
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let selectedAnswer = null;
        
        function startQuiz(level) {
            currentLevel = level;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            selectedAnswer = null;
            
            document.getElementById('levelSelector').style.display = 'none';
            document.getElementById('quizContainer').classList.add('active');
            document.getElementById('resultsContainer').classList.remove('active');
            
            showQuestion();
        }
        
        function showQuestion() {
            const question = questions[currentLevel][currentQuestionIndex];
            const totalQuestions = questions[currentLevel].length;
            
            document.getElementById('questionCounter').textContent = 
                `Question ${currentQuestionIndex + 1} sur ${totalQuestions}`;
            
            document.getElementById('progressFill').style.width = 
                `${((currentQuestionIndex + 1) / totalQuestions) * 100}%`;
            
            document.getElementById('questionText').textContent = question.q;
            
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';
            
            question.a.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = answer;
                button.onclick = () => selectAnswer(index, button);
                answersContainer.appendChild(button);
            });
            
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('feedback').style.display = 'none';
            selectedAnswer = null;
        }
        
        function selectAnswer(index, button) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = index;
            const question = questions[currentLevel][currentQuestionIndex];
            const isCorrect = index === question.correct;
            
            // Marquer la r√©ponse s√©lectionn√©e
            button.classList.add('selected');
            
            // Afficher la bonne r√©ponse
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach((btn, i) => {
                if (i === question.correct) {
                    btn.classList.add('correct');
                } else if (i === index && !isCorrect) {
                    btn.classList.add('incorrect');
                }
                btn.style.pointerEvents = 'none';
            });
            
            // Enregistrer la r√©ponse
            userAnswers.push({
                question: question.q,
                userAnswer: question.a[index],
                correctAnswer: question.a[question.correct],
                isCorrect: isCorrect
            });
            
            if (isCorrect) {
                score++;
            }
            
            // Afficher le feedback
            const feedback = document.getElementById('feedback');
            feedback.style.display = 'block';
            if (isCorrect) {
                feedback.textContent = '‚úÖ Bonne r√©ponse !';
                feedback.className = 'feedback correct';
            } else {
                feedback.textContent = `‚ùå Incorrect. La bonne r√©ponse √©tait : ${question.a[question.correct]}`;
                feedback.className = 'feedback incorrect';
            }
            
            document.getElementById('nextBtn').disabled = false;
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions[currentLevel].length) {
                showQuestion();
            } else {
                showResults();
            }
        }
        
        function showResults() {
            document.getElementById('quizContainer').classList.remove('active');
            document.getElementById('resultsContainer').classList.add('active');
            
            const totalQuestions = questions[currentLevel].length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            document.getElementById('scoreCircle').textContent = `${score}/${totalQuestions}`;
            document.getElementById('scoreText').textContent = `${percentage}% de r√©ussite`;
            
            const resultsDetails = document.getElementById('resultsDetails');
            resultsDetails.innerHTML = '';
            
            userAnswers.forEach((answer, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = `result-item ${answer.isCorrect ? 'correct' : 'incorrect'}`;
                
                resultItem.innerHTML = `
                    <div class="result-question">Question ${index + 1}: ${answer.question}</div>
                    <div class="result-answer">
                        <strong>Votre r√©ponse:</strong> ${answer.userAnswer}<br>
                        ${!answer.isCorrect ? `<strong>Bonne r√©ponse:</strong> ${answer.correctAnswer}` : ''}
                    </div>
                `;
                
                resultsDetails.appendChild(resultItem);
            });
        }
        
        function backToMenu() {
            document.getElementById('levelSelector').style.display = 'flex';
            document.getElementById('quizContainer').classList.remove('active');
            document.getElementById('resultsContainer').classList.remove('active');
        }
        
        function restartQuiz() {
            startQuiz(currentLevel);
        }
    </script>
</body>
</html>
